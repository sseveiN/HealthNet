from healthnet.models import LogEntry, LogLevel
from datetime import datetime


class Logging(object):
    @staticmethod
    def log(level, msg):
        time = datetime.now()
        entry = LogEntry(message=msg, level=level, datetime=time)
        print('%s: [%s] $s' % time.strftime("%Y-%m-%d %H:%M"), level.name.upper(), msg)
        entry.save()

    @staticmethod
    def error(msg):
        Logging.log(LogLevel.Error, msg)

    @staticmethod
    def warning(msg):
        Logging.log(LogLevel.Warning, msg)

    @staticmethod
    def info(msg):
        Logging.log(LogLevel.Info, msg)
