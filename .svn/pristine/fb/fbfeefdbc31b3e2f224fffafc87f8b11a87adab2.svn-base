{% extends 'main_template.html' %}

{% load staticfiles %}

{% block title %} Dashboard {% endblock title %}

{% block css %}
    <style type='text/css'>
        body {
            margin-top: 40px;
            text-align: center;
            font-size: 14px;
        }

        #calendar {
            width: 900px;
            margin: 0 auto;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="{% static "css/fullcalendar.css" %}"/>
{% endblock css %}

{% block content %}
    <div id="calendar"></div>
{% endblock content %}

{% block scripts %}
    <script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js"></script>
    <script src="http://fullcalendar.io/js/fullcalendar-2.6.1/fullcalendar.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function() {
            var events = {{ appointments_json | safe }};

            $('#calendar').fullCalendar({
                customButtons: {
                    createAppointment: {
                        text: 'Create Appointment',
                        click: function() {
                            alert('TODO: this');
                        }
                    }
                },
                header: {
                    left: ' createAppointment',
                    right: ' month,agendaWeek,agendaDay today prev,next'
                },
                defaultView: 'agendaDay',
                events: events
            });
        });
    </script>
{% endblock scripts %}